from matplotlib import pyplot as plt

def click_collector(im,message=''):
    global xclicks,yclicks
    xclicks = []
    yclicks = []
    fig = plt.gcf()

    def onclick(event):
        global clicks
        xnewclick = event.xdata
        ynewclick = event.ydata
        xclicks.append(xnewclick)
        yclicks.append(ynewclick)
        plt.plot(xnewclick,ynewclick,'gs')
        plt.draw()

    cid = fig.canvas.mpl_connect('button_press_event',onclick)

    plt.imshow(im,cmap='gray')
    plt.autoscale(False)

    plt.title(message)
    plt.show()

    return xclicks,yclicks
